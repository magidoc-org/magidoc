import{N as O,O as K,P as R,Q as Z,R as T,T as x,U as m,V as $,W as q,X as z,Y as D,Z as L,_ as M,a0 as G,a1 as H,a2 as Q,a3 as V,a4 as A,a5 as S,a6 as W,a7 as N,k as b,E as X,y as J,a8 as k,s as ee,a9 as w,aa as re,ab as se,ac as te,u as ne,ad as ae,ae as ie,af as fe,ag as I,ah as y,ai as ce,aj as ue,S as B,ak as Y,al as h}from"./C5qmwJW-.js";import{c as oe}from"./D8owG1S5.js";class j{anchor;#s=new Map;#r=new Map;#e=new Map;#t=!0;constructor(e,t=!0){this.anchor=e,this.#t=t}#n=()=>{var e=O;if(this.#s.has(e)){var t=this.#s.get(e),s=this.#r.get(t);if(s)K(s);else{var n=this.#e.get(t);n&&(this.#r.set(t,n.effect),this.#e.delete(t),n.fragment.lastChild.remove(),this.anchor.before(n.fragment),s=n.effect)}for(const[a,f]of this.#s){if(this.#s.delete(a),a===e)break;const i=this.#e.get(f);i&&(R(i.effect),this.#e.delete(f))}for(const[a,f]of this.#r){if(a===t)continue;const i=()=>{if(Array.from(this.#s.values()).includes(a)){var o=document.createDocumentFragment();q(f,o),o.append(T()),this.#e.set(a,{effect:f,fragment:o})}else R(f);this.#r.delete(a)};this.#t||!s?Z(f,i,!1):i()}}};ensure(e,t){var s=O,n=z();if(t&&!this.#r.has(e)&&!this.#e.has(e))if(n){var a=document.createDocumentFragment(),f=T();a.append(f),this.#e.set(e,{effect:x(()=>t(f)),fragment:a})}else this.#r.set(e,x(()=>t(this.anchor)));if(this.#s.set(s,e),n){for(const[i,c]of this.#r)i===e?s.skipped_effects.delete(c):s.skipped_effects.add(c);for(const[i,c]of this.#e)i===e?s.skipped_effects.delete(c.effect):s.skipped_effects.add(c.effect);s.add_callback(this.#n)}else m&&(this.anchor=$),this.#n()}}function ve(r,e,t=!1){m&&L();var s=new j(r),n=t?M:0;function a(f,i){if(m){const o=G(r)===H;if(f===o){var c=Q();V(c),s.anchor=c,A(!1),s.ensure(f,i),A(!0);return}}s.ensure(f,i)}D(()=>{var f=!1;e((i,c=!0)=>{f=!0,a(c,i)}),f||a(!1,null)},n)}function be(r,e,t){m&&L();var s=new j(r);D(()=>{var n=e()??null;s.ensure(n,n&&(a=>t(a,n)))},M)}const le={get(r,e){if(!r.exclude.includes(e))return b(r.version),e in r.special?r.special[e]():r.props[e]},set(r,e,t){if(!(e in r.special)){var s=w;try{y(r.parent_effect),r.special[e]=pe({get[e](){return r.props[e]}},e,N)}finally{y(s)}}return r.special[e](t),I(r.version),!0},getOwnPropertyDescriptor(r,e){if(!r.exclude.includes(e)&&e in r.props)return{enumerable:!0,configurable:!0,value:r.props[e]}},deleteProperty(r,e){return r.exclude.includes(e)||(r.exclude.push(e),I(r.version)),!0},has(r,e){return r.exclude.includes(e)?!1:e in r.props},ownKeys(r){return Reflect.ownKeys(r.props).filter(e=>!r.exclude.includes(e))}};function me(r,e){return new Proxy({props:r,exclude:e,special:{},version:se(0),parent_effect:w},le)}const de={get(r,e){let t=r.props.length;for(;t--;){let s=r.props[t];if(h(s)&&(s=s()),typeof s=="object"&&s!==null&&e in s)return s[e]}},set(r,e,t){let s=r.props.length;for(;s--;){let n=r.props[s];h(n)&&(n=n());const a=S(n,e);if(a&&a.set)return a.set(t),!0}return!1},getOwnPropertyDescriptor(r,e){let t=r.props.length;for(;t--;){let s=r.props[t];if(h(s)&&(s=s()),typeof s=="object"&&s!==null&&e in s){const n=S(s,e);return n&&!n.configurable&&(n.configurable=!0),n}}},has(r,e){if(e===B||e===Y)return!1;for(let t of r.props)if(h(t)&&(t=t()),t!=null&&e in t)return!0;return!1},ownKeys(r){const e=[];for(let t of r.props)if(h(t)&&(t=t()),!!t){for(const s in t)e.includes(s)||e.push(s);for(const s of Object.getOwnPropertySymbols(t))e.includes(s)||e.push(s)}return e}};function Pe(...r){return new Proxy({props:r},de)}function pe(r,e,t,s){var n=!ae||(t&ie)!==0,a=(t&te)!==0,f=(t&ce)!==0,i=s,c=!0,o=()=>(c&&(c=!1,i=f?ne(s):s),i),d;if(a){var F=B in r||Y in r;d=S(r,e)?.set??(F&&e in r?u=>r[e]=u:void 0)}var p,g=!1;a?[p,g]=oe(()=>r[e]):p=r[e],p===void 0&&s!==void 0&&(p=o(),d&&(n&&W(),d(p)));var l;if(n?l=()=>{var u=r[e];return u===void 0?o():(c=!0,u)}:l=()=>{var u=r[e];return u!==void 0&&(i=void 0),u===void 0?i:u},n&&(t&N)===0)return l;if(d){var U=r.$$legacy;return(function(u,v){return arguments.length>0?((!n||!v||U||g)&&d(v?l():u),u):l()})}var P=!1,_=((t&fe)!==0?X:J)(()=>(P=!1,l()));a&&b(_);var C=w;return(function(u,v){if(arguments.length>0){const E=v?b(_):n&&a?k(u):u;return ee(_,E),P=!0,i!==void 0&&(i=E),u}return ue&&P||(C.f&re)!==0?_.v:b(_)})}export{j as B,be as c,ve as i,me as l,pe as p,Pe as s};
